(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lbmp_pvm_CyclomediaSvgViewConeMarker"],{2683:function(t,e,i){"use strict";i.r(e);var o=i("e11e");const n=o["DivIcon"].extend({options:{circleText:"",className:"svg-icon",circleAnchor:null,circleColor:null,circleOpacity:null,circleFillColor:"rgb(255,255,255)",circleFillOpacity:null,circleRatio:.5,circleWeight:null,color:"rgb(0,102,255)",fillColor:null,fillOpacity:.4,fontColor:"rgb(0, 0, 0)",fontOpacity:"1",fontSize:null,iconAnchor:null,iconSize:o["point"](32,48),opacity:1,popupAnchor:null,weight:2},initialize:function(t){t=o["Util"].setOptions(this,t),t.circleAnchor||(t.circleAnchor=o["point"](Number(t.iconSize.x)/2,Number(t.iconSize.x)/2)),t.circleColor||(t.circleColor=t.color),t.circleFillOpacity||(t.circleFillOpacity=t.opacity),t.circleOpacity||(t.circleOpacity=t.opacity),t.circleWeight||(t.circleWeight=t.weight),t.fillColor||(t.fillColor=t.color),t.fontSize||(t.fontSize=Number(t.iconSize.x/4)),t.iconAnchor||(t.iconAnchor=o["point"](Number(t.iconSize.x)/2,Number(t.iconSize.y))),t.popupAnchor||(t.popupAnchor=o["point"](0,-.75*t.iconSize.y));this._createPath(),this._createCircle();t.html=this._createSVG()},_createCircle:function(){var t=Number(this.options.circleAnchor.x),e=Number(this.options.circleAnchor.y),i=this.options.iconSize.x/2*Number(this.options.circleRatio),o=this.options.circleFillColor.replace("rgb(","rgba(").replace(")",","+this.options.circleFillOpacity+")"),n=this.options.circleColor.replace("rgb(","rgba(").replace(")",","+this.options.circleOpacity+")"),c=this.options.circleWeight,r=this.options.className+"-circle",l='<circle class="'+r+'" cx="'+t+'" cy="'+e+'" r="'+i+'" fill="'+o+'" stroke="'+n+'" stroke-width="'+c+'"/>';return l},_createPathDescription:function(){var t=Number(this.options.iconSize.y),e=Number(this.options.iconSize.x),i=Number(this.options.weight),o=i/2,n="M "+o+" "+e/2+" ",c="L "+e/2+" "+(t-i)+" ",r="L "+(e-o)+" "+e/2+" ",l="A "+e/4+" "+e/4+" 0 0 0 "+o+" "+e/2+" Z",s=n+c+r+l;return s},_createPath:function(){var t=this._createPathDescription(),e=this.options.weight,i=this.options.color.replace("rgb(","rgba(").replace(")",","+this.options.opacity+")"),o=this.options.fillColor.replace("rgb(","rgba(").replace(")",","+this.options.fillOpacity+")"),n=this.options.className+"-path",c='<path class="'+n+'" d="'+t+'" stroke-width="'+e+'" stroke="'+i+'" fill="'+o+'"/>';return c},_createSVG:function(){var t=this._createPath(),e=this._createCircle(),i=this._createText(),o=this.options.className+"-svg",n="width:"+this.options.iconSize.x+"; height:"+this.options.iconSize.y+";",c='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="'+o+'" style="'+n+'">'+t+e+i+"</svg>";return c},_createText:function(){var t=this.options.fontSize+"px",e=Number(this.options.fontSize),i=Number(this.options.iconSize.x)/2,o=i+.35*e,n=this.options.circleText,c=this.options.fontColor.replace("rgb(","rgba(").replace(")",","+this.options.fontOpacity+")"),r='<text text-anchor="middle" x="'+i+'" y="'+o+'" style="font-size: '+t+'" fill="'+c+'">'+n+"</text>";return r}});var c=n;const r=c.extend({initialize:function(t){t=o["Util"].setOptions(this,t);const e=o["point"](Number(t.iconSize.x)/2,Number(t.iconSize.y)/2);return t.circleAnchor=e,t.circleRatio=0,t.className=t.className+"-noClick",c.prototype.initialize.call(this,t),t},_createPathDescription:function(){const t=Number(this.options.iconSize.y),e=Number(this.options.iconSize.x),i=Number(this.options.weight),o=i,n="M "+o+" 0 ",c="L "+e/2+" "+(t-o)+" ",r="L "+(e-o)+" 0 Z",l=n+c+r;return l}});var l,s,a=r,h={name:"SvgViewConeMarker",props:["latlng","rotationAngle","hFov"],render:function(t){},mounted:function(){var t=this.$leafletElement=this.createLeafletElement(),e=this.$store.state.map.map;e&&t.addTo(e)},destroyed:function(){this.$leafletElement._map.removeLayer(this.$leafletElement)},watch:{rotationAngle:function(t){this.$leafletElement._map.removeLayer(this.$leafletElement);var e=this.$leafletElement=this.createLeafletElement(),i=this.$store.state.map.map;i&&e.addTo(i)},latlng:function(t){this.$leafletElement._map.removeLayer(this.$leafletElement);var e=this.$leafletElement=this.createLeafletElement(),i=this.$store.state.map.map;i&&e.addTo(i)}},computed:{coneCoords:function(){var t=57.29577951307855*this.hFov,e=50,i=t/2,o=Math.sin(i*Math.PI/180),n=Math.sqrt(1-o*o),c=[o*e,n*e];return c}},methods:{createLeafletElement:function(){this.coneCoords;var t=new a({iconSize:o["point"](this.coneCoords[0],this.coneCoords[1]),iconAnchor:[this.coneCoords[0]/2,this.coneCoords[1]]});return o["marker"](this.latlng,{icon:t,rotationAngle:this.rotationAngle})},parentMounted:function(t){var e=t.$leafletElement;this.$leafletElement.addTo(e)}}},p=h,u=(i("96bd"),i("2877")),m=Object(u["a"])(p,l,s,!1,null,null,null);e["default"]=m.exports},"96bd":function(t,e,i){"use strict";var o=i("fc60"),n=i.n(o);n.a},fc60:function(t,e,i){}}]);
//# sourceMappingURL=lbmp_pvm_CyclomediaSvgViewConeMarker.48eb511a.js.map