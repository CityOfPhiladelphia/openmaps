(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_ePayForm","tcg_pvc_HorizontalTable"],{"0f31":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:t.actionAddress,method:"post",target:"_blank"}},[n("input",{attrs:{name:"billStmt",type:"hidden"},domProps:{value:t.xmlData}}),n("input",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowButton,expression:"this.shouldShowButton"}],staticClass:"button external",style:t.buttonStyle,attrs:{type:"submit"},domProps:{value:this.$props.slots.text}})])},s=[],r=n("4cd6"),o=n("a4bb"),i=n.n(o),l=n("340b"),u=n("74a0"),c=n.n(u),d=function(t){if(console.log("generate billing xml",t),i()(t).length<1)return"";var e=Object(l["format"])(new Date,"YYYY-MM-DDTHH:mm:ssZ"),n='<?xml version="1.0" encoding="utf-16"?>\n<BillingStatement xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\n  <AccountNumber />\n  <BillNumber>'.concat(t.balances.accountNum,"</BillNumber>\n  <StatementNumber />\n  <BillingDate>").concat(e,"</BillingDate>\n  <DueDate>").concat(e,"</DueDate>\n  <TotalDue>").concat(t.totalDue,"</TotalDue>\n  <DepartMentId>0</DepartMentId>\n  <Fund>0</Fund>\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\n  <Quantity>0</Quantity>\n  <ItemAmount>0</ItemAmount>\n  <TotalAmountdue>0</TotalAmountdue>\n  <PartialPaymentFlag>false</PartialPaymentFlag>\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\n  <Details>\n    <BillingStatementDetail>\n      <ItemDate>").concat(e,"</ItemDate>\n      <ItemDescription>Real Estate Tax</ItemDescription>\n      <Charges>").concat(t.totalDue,"</Charges>\n      <Credits>0</Credits>\n    </BillingStatementDetail>\n  </Details>\n  <Customers>\n    <Customer>\n      <FirstName>").concat(t.balances.property.ownerName,"</FirstName>\n      <MiddleName />\n      <LastName />\n      <BillingAddress>\n        <Address>\n          <AddressLine1>").concat(t.address.streetAddress,"</AddressLine1>\n          <City>PHILADELPHIA</City>\n          <State>PA</State>\n          <PostalCode>").concat(t.address.zipCode,"</PostalCode>\n          <Country>US</Country>\n        </Address>\n      </BillingAddress>\n    </Customer>\n  </Customers>\n</BillingStatement>\n  ");return c()(n)},p=["principal","interest","penalty","other"],m={mixins:[r["a"]],data:function(){var t={parseData:{accountNum:this.$store.state.sources.tips.data.data.accountNum,totalDue:"",balances:this.$store.state.sources.tips.data.data,address:{streetAddress:this.$store.state.sources.tips.data.data.property.address,zipCode:this.$store.state.geocode.data.properties.zip_code}},xmlData:{},buttonStyle:"height: "+this.$props.options.height+"px;       width: "+this.$props.options.width+"px;       font-size: "+this.$props.options.fontSize+"px;       ",actionAddress:this.$props.options.actionAddress||"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx"};return t},created:function(){this.parseData.totalDue=this.calculateTotalDue(),this.$store.commit("setPropertyBalance",this.parseData.totalDue),this.xmlData=d(this.parseData)},computed:{message:function(){if(this.$props.slots)return this.evaluateSlot(this.$props.slots.text)},class:function(){if(this.$props.options)return this.$props.options.class||""},style:function(){if(this.$props.options)return this.$props.options.style||""},shouldShowButton:function(){return this.parseData.totalDue>0}},methods:{calculateTotalDue:function(){var t=this;return this.parseData.balances.years.reduce(function(e,n){var a=t.calculateTotalForYear(n);return e+a},0)},calculateTotalForYear:function(t){var e=p.map(function(e){return t[e]});return e.reduce(function(t,e){return t+e},0)}}},h=m,f=n("2877"),D=Object(f["a"])(h,a,s,!1,null,"02d90be5",null);e["default"]=D.exports},"4cd6":function(t,e,n){"use strict";n("6762"),n("2fdb");var a,s,r=n("a4bb"),o=n.n(r),i=n("5d73"),l=n.n(i),u=n("7618"),c={props:{slots:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},beforeCreate:function(){},created:function(){},computed:{nullValue:function(){var t=this.options||{};return t.nullValue}},methods:{evaluateSlot:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return t;var s,r=Object(u["a"])(t);if("function"===r){var i=this.$store.state,c=this.$controller,d=t,p=this.item;s=p?d(i,p,c):d(i)}else s=t;if(!1===s);else if(!s)return a;var m=!0,h=!1,f=void 0;try{for(var D,b=function(){var t=D.value,n=e.$config.transforms[t],a=void 0,r=n.globals;r&&(a=o()(window).filter(function(t){return r.includes(t)}).reduce(function(t,e){return t[e]=window[e],t},{}));var i=n.transform;s=i(s,a)},g=l()(n);!(m=(D=g.next()).done);m=!0)b()}catch(v){h=!0,f=v}finally{try{m||null==g.return||g.return()}finally{if(h)throw f}}return s}}},d=c,p=n("2877"),m=Object(p["a"])(d,a,s,!1,null,null,null);e["a"]=m.exports},"74a0":function(t,e,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var a=/["'&<>]/;function s(t){var e,n=""+t,s=a.exec(n);if(!s)return n;var r="",o=0,i=0;for(o=s.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==o&&(r+=n.substring(i,o)),i=o+1,r+=e}return i!==o?r+n.substring(i,o):r}t.exports=s}}]);
//# sourceMappingURL=tcg_pvc_ePayForm.d02cbbf0.js.map