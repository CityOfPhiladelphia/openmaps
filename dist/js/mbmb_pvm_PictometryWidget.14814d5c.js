(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmb_pvm_PictometryWidget"],{"51c8":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:this.pictContainerClass,attrs:{id:"pict-container"}},[!1===this.isMobileOrTablet?o("div",{attrs:{id:"in-pict-div"},on:{click:this.popoutClicked}},[o("font-awesome-icon",{staticClass:"popout-icon",attrs:{icon:"external-link-alt"}})],1):t._e(),o("iframe",{ref:"pictometryIpa",attrs:{id:"pictometry-ipa",src:"#"}}),o("div",[t._t("default")],2)])},i=[],a=o("768b"),r=o("8d81"),c=o.n(r),s={name:"PictometryWidget",props:["apiKey","secretKey"],created:function(){this.$IFRAME_ID="pictometry-ipa"},mounted:function(){var t="https://pol.pictometry.com/ipa/v1/embed/host.php?apikey="+this.apiKey,e=this;this.getScript(t,e.init)},computed:{isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},pictContainerClass:function(){return this.cyclomediaActive?"medium-8 large-8 columns mb-panel":"medium-24 large-24 columns mb-panel"},mapCenter:function(){return this.$store.state.pictometry.map.center},mapZoom:function(){return this.$store.state.pictometry.map.zoom}},watch:{mapCenter:function(t){var e=Object(a["a"])(t,2),o=e[0],n=e[1],i=this.mapZoom;this.$ipa&&this.$ipa.setLocation({x:o,y:n,zoom:i})},mapZoom:function(t){this.$ipa&&this.$ipa.setLocation({y:this.mapCenter.lat,x:this.mapCenter.lng,zoom:t})},cyclomediaActive:function(t){t?this.$ipa.showDashboard({zoom:!1,imageFilter:!1,layers:!1,nextPrevious:!1,tools:!1,annotations:!1,rotation:!1,clearMeasurements:!1,exportPdf:!1,dualPane:!1,imageDate:!1,panTool:!1,exportImage:!1,areaTool:!1,distanceTool:!1,heightTool:!1,locationTool:!1,elevationTool:!1,bearingTool:!1,slopeTool:!1,xyzTool:!1,identifyPoint:!1,identifyBox:!1}):this.$ipa.showDashboard({zoom:!0,imageFilter:!0,layers:!0,nextPrevious:!0,tools:!0,annotations:!0,rotation:!0,clearMeasurements:!0,exportPdf:!0,dualPane:!0,imageDate:!0,panTool:!0,exportImage:!0,areaTool:!0,distanceTool:!0,heightTool:!0,locationTool:!0,elevationTool:!0,bearingTool:!0,slopeTool:!0,xyzTool:!0,identifyPoint:!0,identifyBox:!0})}},methods:{getScript:function(t,e){var o=document.createElement("script"),n=document.getElementsByTagName("script")[0];o.async=1,o.onload=o.onreadystatechange=function(t,n){(n||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,o=void 0,n||e&&e())},o.src=t,n.parentNode.insertBefore(o,n)},popoutClicked:function(){var t=this.$store.state.map.map,e=t.getCenter();window.open("//pictometry.phila.gov/?"+e.lat+"&"+e.lng,"_blank"),this.$store.commit("setPictometryActive",!1)},init:function(){var t=new Date,e=Math.floor(t.getTime()/1e3),o="https://pol.pictometry.com/ipa/v1/load.php?apikey="+this.apiKey+"&ts="+e,n=c()(o,this.secretKey),i=this.$IFRAME_ID,a=o+"&ds="+n+"&app_id="+i,r=this.$refs.pictometryIpa;r.setAttribute("src",a);var s=this.$ipa=new PictometryHost(i,"https://pol.pictometry.com/ipa/v1/load.php");this.$store.commit("setPictometryIpa",s),s.ready=this.ipaReady},ipaReady:function(){this.$ipa.setLocation({y:this.mapCenter.lat,x:this.mapCenter.lng,zoom:this.mapZoom});var t=this;this.$ipa.addListener("onendzoom",function(e){t.$store.commit("setPictometryZoom",e.level)})}}},l=s,p=(o("98bc"),o("2877")),u=Object(p["a"])(l,n,i,!1,null,"8eba6d38",null);e["default"]=u.exports},"8d81":function(t,e,o){var n;(function(i){"use strict";function a(t,e){var o=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(o>>16);return n<<16|65535&o}function r(t,e){return t<<e|t>>>32-e}function c(t,e,o,n,i,c){return a(r(a(a(e,t),a(n,c)),i),o)}function s(t,e,o,n,i,a,r){return c(e&o|~e&n,t,e,i,a,r)}function l(t,e,o,n,i,a,r){return c(e&n|o&~n,t,e,i,a,r)}function p(t,e,o,n,i,a,r){return c(e^o^n,t,e,i,a,r)}function u(t,e,o,n,i,a,r){return c(o^(e|~n),t,e,i,a,r)}function m(t,e){var o,n,i,r,c;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var m=1732584193,d=-271733879,h=-1732584194,f=271733878;for(o=0;o<t.length;o+=16)n=m,i=d,r=h,c=f,m=s(m,d,h,f,t[o],7,-680876936),f=s(f,m,d,h,t[o+1],12,-389564586),h=s(h,f,m,d,t[o+2],17,606105819),d=s(d,h,f,m,t[o+3],22,-1044525330),m=s(m,d,h,f,t[o+4],7,-176418897),f=s(f,m,d,h,t[o+5],12,1200080426),h=s(h,f,m,d,t[o+6],17,-1473231341),d=s(d,h,f,m,t[o+7],22,-45705983),m=s(m,d,h,f,t[o+8],7,1770035416),f=s(f,m,d,h,t[o+9],12,-1958414417),h=s(h,f,m,d,t[o+10],17,-42063),d=s(d,h,f,m,t[o+11],22,-1990404162),m=s(m,d,h,f,t[o+12],7,1804603682),f=s(f,m,d,h,t[o+13],12,-40341101),h=s(h,f,m,d,t[o+14],17,-1502002290),d=s(d,h,f,m,t[o+15],22,1236535329),m=l(m,d,h,f,t[o+1],5,-165796510),f=l(f,m,d,h,t[o+6],9,-1069501632),h=l(h,f,m,d,t[o+11],14,643717713),d=l(d,h,f,m,t[o],20,-373897302),m=l(m,d,h,f,t[o+5],5,-701558691),f=l(f,m,d,h,t[o+10],9,38016083),h=l(h,f,m,d,t[o+15],14,-660478335),d=l(d,h,f,m,t[o+4],20,-405537848),m=l(m,d,h,f,t[o+9],5,568446438),f=l(f,m,d,h,t[o+14],9,-1019803690),h=l(h,f,m,d,t[o+3],14,-187363961),d=l(d,h,f,m,t[o+8],20,1163531501),m=l(m,d,h,f,t[o+13],5,-1444681467),f=l(f,m,d,h,t[o+2],9,-51403784),h=l(h,f,m,d,t[o+7],14,1735328473),d=l(d,h,f,m,t[o+12],20,-1926607734),m=p(m,d,h,f,t[o+5],4,-378558),f=p(f,m,d,h,t[o+8],11,-2022574463),h=p(h,f,m,d,t[o+11],16,1839030562),d=p(d,h,f,m,t[o+14],23,-35309556),m=p(m,d,h,f,t[o+1],4,-1530992060),f=p(f,m,d,h,t[o+4],11,1272893353),h=p(h,f,m,d,t[o+7],16,-155497632),d=p(d,h,f,m,t[o+10],23,-1094730640),m=p(m,d,h,f,t[o+13],4,681279174),f=p(f,m,d,h,t[o],11,-358537222),h=p(h,f,m,d,t[o+3],16,-722521979),d=p(d,h,f,m,t[o+6],23,76029189),m=p(m,d,h,f,t[o+9],4,-640364487),f=p(f,m,d,h,t[o+12],11,-421815835),h=p(h,f,m,d,t[o+15],16,530742520),d=p(d,h,f,m,t[o+2],23,-995338651),m=u(m,d,h,f,t[o],6,-198630844),f=u(f,m,d,h,t[o+7],10,1126891415),h=u(h,f,m,d,t[o+14],15,-1416354905),d=u(d,h,f,m,t[o+5],21,-57434055),m=u(m,d,h,f,t[o+12],6,1700485571),f=u(f,m,d,h,t[o+3],10,-1894986606),h=u(h,f,m,d,t[o+10],15,-1051523),d=u(d,h,f,m,t[o+1],21,-2054922799),m=u(m,d,h,f,t[o+8],6,1873313359),f=u(f,m,d,h,t[o+15],10,-30611744),h=u(h,f,m,d,t[o+6],15,-1560198380),d=u(d,h,f,m,t[o+13],21,1309151649),m=u(m,d,h,f,t[o+4],6,-145523070),f=u(f,m,d,h,t[o+11],10,-1120210379),h=u(h,f,m,d,t[o+2],15,718787259),d=u(d,h,f,m,t[o+9],21,-343485551),m=a(m,n),d=a(d,i),h=a(h,r),f=a(f,c);return[m,d,h,f]}function d(t){var e,o="",n=32*t.length;for(e=0;e<n;e+=8)o+=String.fromCharCode(t[e>>5]>>>e%32&255);return o}function h(t){var e,o=[];for(o[(t.length>>2)-1]=void 0,e=0;e<o.length;e+=1)o[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)o[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return o}function f(t){return d(m(h(t),8*t.length))}function y(t,e){var o,n,i=h(t),a=[],r=[];for(a[15]=r[15]=void 0,i.length>16&&(i=m(i,8*t.length)),o=0;o<16;o+=1)a[o]=909522486^i[o],r[o]=1549556828^i[o];return n=m(a.concat(h(e)),512+8*e.length),d(m(r.concat(n),640))}function v(t){var e,o,n="0123456789abcdef",i="";for(o=0;o<t.length;o+=1)e=t.charCodeAt(o),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function g(t){return unescape(encodeURIComponent(t))}function b(t){return f(g(t))}function T(t){return v(b(t))}function $(t,e){return y(g(t),g(e))}function C(t,e){return v($(t,e))}function x(t,e,o){return e?o?$(e,t):C(e,t):o?b(t):T(t)}n=function(){return x}.call(e,o,e,t),void 0===n||(t.exports=n)})()},"98bc":function(t,e,o){"use strict";var n=o("da15"),i=o.n(n);i.a},da15:function(t,e,o){}}]);
//# sourceMappingURL=mbmb_pvm_PictometryWidget.14814d5c.js.map