(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mbmb_pvm_PictometryViewCone"],{"0a90":function(t,e,a){var o=a("63b6"),i=a("10ff");o(o.G+o.F*(parseFloat!=i),{parseFloat:i})},"10ff":function(t,e,a){var o=a("e53d").parseFloat,i=a("a1ce").trim;t.exports=1/o(a("e692")+"-0")!==-1/0?function(t){var e=i(String(t),3),a=o(e);return 0===a&&"-"==e.charAt(0)?-0:a}:o},"59ad":function(t,e,a){t.exports=a("7be7")},"7be7":function(t,e,a){a("0a90"),t.exports=a("584a").parseFloat},e249:function(t,e,a){"use strict";a.r(e);var o,i,s=a("59ad"),n=a.n(s),r={name:"PictometryViewCone",props:["latlng","rotationAngle","hFov"],render:function(t){},computed:{ipa:function(){return this.$store.state.pictometry.ipa},zoom:function(){return this.$store.state.pictometry.zoom},radius:function(){var t={17:75,18:50,19:25,20:15,21:10,22:10,23:10,24:10};return t[this.zoom]}},mounted:function(){this.getViewConeLatLon()},beforeDestroy:function(){this.ipa.removeShapes(this.$store.state.pictometry.shapeIds)},watch:{radius:function(t){this.getViewConeLatLon()},rotationAngle:function(){this.ipa.removeShapes(this.$store.state.pictometry.shapeIds),this.getViewConeLatLon()},latlng:function(){this.ipa.removeShapes(this.$store.state.pictometry.shapeIds),this.getViewConeLatLon()}},methods:{getViewConeLatLon:function(){var t=this.latlng[0],e=this.latlng[1],a=6378137,o=this.radius,i=this.rotationAngle,s=180*n()(this.hFov)/Math.PI,r=Math.cos((i+s/2)*Math.PI/180)*o,h=Math.sin((i+s/2)*Math.PI/180)*o,p=Math.cos((i-s/2)*Math.PI/180)*o,c=Math.sin((i-s/2)*Math.PI/180)*o,l=r/a,u=h/(a*Math.cos(Math.PI*t/180)),f=p/a,d=c/(a*Math.cos(Math.PI*t/180)),m=t+180*l/Math.PI,M=e+180*u/Math.PI,I=t+180*f/Math.PI,v=e+180*d/Math.PI,w=[{y:t,x:e,z:0},{y:m,x:M,z:0},{y:I,x:v,z:0}];this.placeViewCone(w)},placeViewCone:function(t){var e=this,a={type:this.ipa.SHAPE_TYPE.POLYGON,coordinates:t,strokeColor:"#00a0ee",strokeOpacity:.75,strokeWeight:2,fillColor:"#00a0ee",fillOpacity:.25,altitudeMode:this.ipa.ALTITUDE_MODE.RELATIVE_TO_GROUND};this.ipa.addShapes([a],function(t){for(var a=0;a<t.length;a++)if("false"===t[a].success)alert(t[a].error);else{var o=e.$store.state.pictometry.shapeIds;o.push(t[a].shapeId);o.slice(0,-1);e.ipa.removeShapes(o.slice(0,-1))}})}}},h=r,p=a("2877"),c=Object(p["a"])(h,o,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=mbmb_pvm_PictometryViewCone.9489f631.js.map